{% extends 'base.html.twig' %}

{% block title %}Mes Commandes
{% endblock %}

{% block body %}
	<div class="max-w-4xl mx-auto py-10">
		<h1 class="text-3xl font-bold mb-6">Mes Commandes</h1>
		{% if commandes|length == 0 %}
			<div class="bg-yellow-100 text-yellow-800 px-4 py-3 rounded mb-6">Vous n'avez passé aucune commande pour le moment.</div>
		{% else %}
			<div class="overflow-x-auto rounded-lg shadow">
				<table class="min-w-full bg-white divide-y divide-gray-200">
					<thead class="bg-gray-50">
						<tr>
							<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
							<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Statut</th>
							<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Montant</th>
							<th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Détail</th>
						</tr>
					</thead>
					<tbody class="bg-white divide-y divide-gray-200">
						{% for commande in commandes %}
							<tr class="hover:bg-indigo-50">
								<td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ commande.dateCommande|date('d/m/Y') }}</td>
								<td class="px-6 py-4 whitespace-nowrap text-sm">
									{% if commande.statut == 'Livrée' %}
										<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Livrée</span>
									{% elseif commande.statut == 'En cours' %}
										<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">En cours</span>
									{% else %}
										<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800">{{ commande.statut }}</span>
									{% endif %}
								</td>
								<td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ commande.montantTotal }}
									DT</td>
								<td class="px-6 py-4 whitespace-nowrap text-right text-sm">
									<a href="{{ path('app_mes_commande_show1', {'id': commande.id}) }}" class="text-indigo-600 hover:text-indigo-900 font-medium">Voir</a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
			<div class="mt-6">
				{{ knp_pagination_render(commandes) }}
			</div>
		{% endif %}
	</div>
{% endblock %}
